<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1"/>

        <title>GWT Project</title>

        <link rel="stylesheet" href='./../../assets/build/css/style.css'>
        <link rel="stylesheet" href='./../../assets/build/fonts/icons/icons.css'>
        <link rel="shortcut icon" type="image/x-icon" href='./../../images/favicon.png'>

        <script type="text/javascript" src="https://use.typekit.net/wwv3dxt.js"></script>
        <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

        <script type="text/javascript" src='./../../gwtproject/gwtproject.nocache.js'></script>
        <script>
            (function () {
                var cx = '008698606704604874043:or32ypbnrfu';
                var gcse = document.createElement('script');
                gcse.type = 'text/javascript';
                gcse.async = true;
                gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                        '//www.google.com/cse/cse.js?cx=' + cx;
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(gcse, s);
            })();
        </script>
    </head>

    <body>

        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <nav role="navigation" id="nav" class="closed">
            <div class="wrapper">
                <ul>
                    <li class="logo"><a href='./../../'>GWT homepage</a></li>
                    <li><a href='./../../overview.html'><i class="icon_overview"></i>Overview</a></li>
                    <li class="sep"><a href='./../../gettingstarted-v2.html'><i class="icon_getstarted"></i>Get started</a></li>
                    <li><a href='./../../doc/latest/tutorial/index.html' class="active"><i class="icon_tutorials"></i>Tutorials</a></li>
                    <li><a href='./../../doc/latest/DevGuide.html'><i class="icon_doc"></i>Docs</a></li>
                    <li><a href='./../../examples.html'><i class="icon_ressources"></i>Resources</a></li>
                    <li><a href='./../../makinggwtbetter.html'><i class="icon_makeGWTBetter"></i>Make GWT Better</a></li>
                    <li class="sep"><a href='./../../terms.html'><i class="icon_terms"></i>Terms</a></li>
                    <li class="btn"><a href='./../../download.html'><i class="icon_download"></i>Download</a></li>
                    <li class="btn"><a href="https://www.gwtproject.org/javadoc/latest/"><i class="icon_jd"></i>Java Doc</a></li>
                </ul>
                <div id="social">
                    <a href="https://gitter.im/gwtproject/gwt" target="_blank" title="Access our Gitter community">
                        <img src='./../../images/gitter-logo-mark-white.png' height="100%" alt="GWT Gitter community"></img>
                    </a>
                </div>
                <a id="cc" href="#">Creative Commons Attribution 3.0 License.</a>
            </div>
        </nav>

        <div class="holder">
            <aside id="submenu">
                <nav>
                    <ul>
  <li><a href='./../../gettingstarted-v2.html'>Get Started</a>
  <ul>
    <li><a href='./../../gettingstarted-v2.html' title="Getting Started with GWT SDK">Overview</a></li>
    <li><a href='./../../learnmore-sdk.html' title="Learn more about the GWT SDK">SDK Learn More</a></li>
    <li><a href='./../../usingeclipse.html'>Configure Eclipse</a></li>
    <li><a href='./../../usingintellij.html'>Configure IntelliJ</a></li>
  </ul></li>
  <li><a href='./../../doc/latest/tutorial/index.html'>Tutorials</a>
  <ul>
    <li><a href='./../../doc/latest/tutorial/index.html'>Overview</a></li>
    <li><a href="#" title="Create, build and run a GWT application">Build a GWT App.</a>
    <ul>
      <li><a href='./../../doc/latest/tutorial/gettingstarted.html'>Introduction</a></li>
      <li><a href='./../../doc/latest/tutorial/create.html'>Create</a></li>
      <li><a href='./../../doc/latest/tutorial/design.html'>Design</a></li>
      <li><a href='./../../doc/latest/tutorial/buildui.html'>Build the UI</a></li>
      <li><a href='./../../doc/latest/tutorial/manageevents.html'>Manage Events</a></li>
      <li><a href='./../../doc/latest/tutorial/codeclient.html'>Coding Client side</a></li>
      <li><a href='./../../doc/latest/tutorial/debug.html'>Debugging</a></li>
      <li><a href='./../../doc/latest/tutorial/style.html'>Styling</a></li>
      <li><a href='./../../doc/latest/tutorial/compile.html'>Compilation</a></li>
    </ul></li>
    <li><a href="#">AJAX Communication</a>
    <ul>
      <li><a href='./../../doc/latest/tutorial/clientserver.html'>Introduction</a></li>
      <li><a href='./../../doc/latest/tutorial/RPC.html'>Using GWT RPC</a></li>
      <li><a href='./../../doc/latest/tutorial/JSON.html'>Retrieving JSON</a></li>
      <li><a href='./../../doc/latest/tutorial/Xsite.html'>Cross-site Requests</a></li>
      <li><a href='./../../doc/latest/tutorial/JSONphp.html'>JSON php</a></li>
    </ul></li>
    <li><a href='./../../doc/latest/tutorial/i18n.html'>Internationalization</a></li>
    <li><a href='./../../doc/latest/tutorial/JUnit.html'>JUnit Testing</a></li>
    <li><a href='./../../doc/latest/tutorial/appengine.html' title="Deploy to Google App Engine">Deploy to GAE</a></li>
    <li><a href='./../../doc/latest/polymer-tutorial/introduction.html'>GWT &amp; Polymer</a>
    <ul>
      <li><a href='./../../doc/latest/polymer-tutorial/create.html'>Create Project</a></li>
      <li><a href="#">Opt A: Widgets UI</a>
      <ul>
        <li><a href='./../../doc/latest/polymer-tutorial/widgets-buildui.html'>Build the UI</a></li>
        <li><a href='./../../doc/latest/polymer-tutorial/widgets-applogic.html'>Events &amp; Logic</a></li>
      </ul></li>
      <li><a href="#">Opt B: Elements UI</a>
      <ul>
        <li><a href='./../../doc/latest/polymer-tutorial/elements-buildui.html'>Build the UI</a></li>
        <li><a href='./../../doc/latest/polymer-tutorial/elements-applogic.html'>Events &amp; Logic</a></li>
      </ul></li>
    </ul></li>
  </ul></li>
  <li><a href='./../../doc/latest/DevGuide.html'>Documentation</a>
  <ul>
    <li><a href='./../../doc/latest/DevGuide.html'>Overview</a></li>
    <li><a href="#">Coding Basics</a>
    <ul>
      <li><a href='./../../doc/latest/DevGuideCodingBasics.html'>Introduction</a></li>
      <li><a href='./../../doc/latest/DevGuideOrganizingProjects.html'>Organize Projects</a></li>
      <li><a href='./../../doc/latest/DevGuideCompilingAndDebugging.html'>Compile &amp; Debug</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsClient.html'>Client-side</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsCompatibility.html'>JRE Compatibility</a></li>
      <li><a href='./../../doc/latest/DevGuideServerCommunication.html' title="Communicate with a server">Ajax Communication</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsHistory.html'>History Mechanism</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsFormatting.html' title="Number and Date Formating">Formatting</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsDelayed.html'>Delayed Logic</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsJSON.html'>Working with JSON</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsXML.html'>Working with XML</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsJSNI.html' title="JavaScript Native Interface">JavaScript: JSNI</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsJsInterop.html' title="JsInterop">JavaScript: JsInterop</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsOverlay.html'>Overlay Types</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsDeferred.html'>Deferred Binding</a></li>
    </ul></li>
    <li><a href="#">Build User Interfaces</a>
    <ul>
      <li><a href='./../../doc/latest/DevGuideUi.html'>Contents</a></li>
      <li><a href='./../../doc/latest/DevGuideUiBrowser.html'>Cross-Browser Support</a></li>
      <li><a href='./../../doc/latest/DevGuideUiPanels.html'>Layout with Panels</a></li>
      <li><a href='./../../doc/latest/DevGuideUiWidgets.html'>Widgets</a></li>
      <li><a href='./../../doc/latest/DevGuideUiCustomWidgets.html'>Custom Widgets</a></li>
      <li><a href='./../../doc/latest/DevGuideUiCellWidgets.html'>Cell Widgets</a></li>
      <li><a href='./../../doc/latest/DevGuideUiCellTable.html'>Cell Tables</a></li>
      <li><a href='./../../doc/latest/DevGuideUiCustomCells.html'>Custom Cells</a></li>
      <li><a href='./../../doc/latest/DevGuideUiEditors.html'>Editors</a></li>
      <li><a href='./../../doc/latest/DevGuideUiDom.html'>Using the DOM</a></li>
      <li><a href='./../../doc/latest/DevGuideUiHandlers.html'>Events &amp; Handlers</a></li>
      <li><a href='./../../doc/latest/DevGuideUiCss.html'>Css Styling</a></li>
      <li><a href='./../../doc/latest/DevGuideUiBinder.html'>UIBinder</a></li>
      <li><a href='./../../doc/latest/DevGuideUiImageBundles.html'>Image Bundles</a></li>
    </ul></li>
    <li><a href="#">Html5 Support</a>
    <ul>
      <li><a href='./../../doc/latest/DevGuideHtml5.html'>Contents</a></li>
      <li><a href='./../../doc/latest/DevGuideHtml5Storage.html'>Html5 Storage</a></li>
    </ul></li>
    <li><a href="#">Test with JUnit</a>
    <ul>
      <li><a href='./../../doc/latest/DevGuideTesting.html'>Guide</a></li>
      <li><a href='./../../doc/latest/DevGuideTestingHtmlUnit.html'>HtmlUnit</a></li>
      <li><a href='./../../doc/latest/DevGuideTestingRemoteTesting.html'>Remote Testing</a></li>
      <li><a href='./../../doc/latest/DevGuideTestingCoverage.html'>Code Coverage</a></li>
    </ul></li>
    <li><a href='./../../doc/latest/DevGuideDeploying.html'>Deploy</a></li>
    <li><a href="#">Advanced Topics</a>
    <ul>
      <li><a href='./../../doc/latest/DevGuideLogging.html'>Logging</a></li>
      <li><a href="#">Security</a>
      <ul>
        <li><a href='./../../doc/latest/DevGuideSecurity.html'>Contents</a></li>
        <li><a href='./../../doc/latest/DevGuideSecuritySafeHtml.html'>Using SafeHtml</a></li>
        <li><a href='./../../doc/latest/DevGuideSecurityRpcXsrf.html'>XSRF Protection</a></li>
      </ul></li>
      <li><a href='./../../doc/latest/DevGuideAutoBeans.html'>AutoBeans</a></li>
      <li><a href='./../../doc/latest/DevGuideRequestFactory.html'>Request Factory</a></li>
      <li><a href='./../../doc/latest/DevGuideMvpActivitiesAndPlaces.html'>Activities And Places</a></li>
      <li><a href='./../../doc/latest/DevGuideValidation.html'>Validation</a></li>
      <li><a href="#">Internationalization</a>
      <ul>
        <li><a href='./../../doc/latest/DevGuideI18n.html' title="I18N">Introduction</a></li>
        <li><a href='./../../doc/latest/DevGuideI18nLocale.html'>Locale</a></li>
        <li><a href='./../../doc/latest/DevGuideI18nConstants.html'>Constants</a></li>
        <li><a href='./../../doc/latest/DevGuideI18nMessages.html'>Messages</a></li>
        <li><a href='./../../doc/latest/DevGuideI18nPluralForms.html'>Plural Forms</a></li>
        <li><a href='./../../doc/latest/DevGuideUiBinderI18n.html'>UI Binder</a></li>
      </ul></li>
      <li><a href='./../../doc/latest/DevGuideA11y.html'>Accessibility</a></li>
      <li><a href="#">Optimize</a>
      <ul>
        <li><a href='./../../doc/latest/DevGuideOptimizing.html'>Overview</a></li>
        <li><a href='./../../doc/latest/DevGuideCodeSplitting.html'>Code Splitting</a></li>
        <li><a href='./../../doc/latest/DevGuideCompileReport.html'>Compile Report</a></li>
        <li><a href='./../../doc/latest/DevGuideClientBundle.html'>Client Bundle</a></li>
        <li><a href='./../../doc/latest/DevGuideGssVsCss.html'>GSS vs CSS Syntax</a></li>
        <li><a href='./../../doc/latest/DevGuideLightweightMetrics.html'>Lightweight Metrics</a></li>
      </ul></li>
      <li><a href='./../../doc/latest/DevGuideLinkers.html'>Linkers</a></li>
    </ul></li>
    <li><a href="#">Reference</a>
    <ul>
      <li><a href='./../../doc/latest/RefCommandLineTools.html'>Command Line Tools</a></li>
      <li><a href='./../../doc/latest/RefGWTClassAPI.html'>GWT Class API</a></li>
      <li><a href='./../../doc/latest/RefJreEmulation.html'>Jre Emulation</a></li>
      <li><a href='./../../doc/latest/RefWidgetGallery.html'>Widgets Gallery</a></li>
    </ul></li>
    <li><a href="#">FAQ</a>
    <ul>
      <li><a href='./../../doc/latest/FAQ.html'>Contents</a></li>
      <li><a href='./../../doc/latest/FAQ_GettingStarted.html'>Getting Started</a></li>
      <li><a href='./../../doc/latest/FAQ_DebuggingAndCompiling.html'>Debug &amp; Compile</a></li>
      <li><a href='./../../doc/latest/FAQ_UI.html'>Build UI</a></li>
      <li><a href='./../../doc/latest/FAQ_Client.html'>Client</a></li>
      <li><a href='./../../doc/latest/FAQ_Server.html'>Server</a></li>
      <li><a href='./../../doc/latest/FAQ_Troubleshooting.html'>Troubleshooting</a></li>
    </ul></li>
    <li><a href='./../../doc/latest/DevGuideGlossary.html'>Glossary</a></li>
  </ul></li>
  <li><a href='./../../examples.html'>Resources</a>
  <ul>
    <li><a href='./../../examples.html'>Examples</a></li>
    <li><a href='./../../presentations.html' title="Different Presentations on GWT">Presentations</a></li>
    <li><a href="#">Articles</a>
    <ul>
      <li><a href='./../../articles/articles.html'>Overview</a></li>
      <li><a href='./../../articles/gss_migration.html' title="Migrating CssResources from CSS to GSS">GSS Migration</a></li>
      <li><a href='./../../articles/fragment_merging.html'>Fragment Merging</a></li>
      <li><a href='./../../articles/superdevmode.html'>Super Dev Mode</a></li>
      <li><a href='./../../articles/elemental.html'>Elemental</a></li>
      <li><a href='./../../articles/dynamic_host_page.html' title="Running GWT in dynamic host pages">Dynamic Host Page</a></li>
      <li><a href="#">Building MVP apps</a>
      <ul>
        <li><a href='./../../articles/mvp-architecture.html'>MVP Part I</a></li>
        <li><a href='./../../articles/mvp-architecture-2.html'>MVP Part II</a></li>
      </ul></li>
      <li><a href='./../../articles/using_gwt_with_hibernate.html'>GWT &amp; Hibernate</a></li>
      <li><a href='./../../articles/testing_methodologies_using_gwt.html' title="Best practices on Testing GWT applications">Testing</a></li>
      <li><a href='./../../articles/dom_events_memory_leaks_and_you.html' title="How GWT tackles memory leaks">DOM Memory Leaks</a></li>
      <li><a href='./../../articles/security_for_gwt_applications.html' title="Security for GWT applications">Security</a></li>
      <li><a href='./../../articles/using_gwt_for_json_mashups.html' title="Using GWT for JSON Mashups">JSON &amp; Mashups</a></li>
      <li><a href='./../../articles/gwt-iphone.html'>GWT iPhone</a></li>
    </ul></li>
    <li><a href='./../../books.html' title="GWT Books">Books</a></li>
    <li><a href='./../../casestudies.html' title="Case Studies for using GWT">Case Studies</a></li>
    <li><a href="#">Community</a>
    <ul>
      <li><a href='./../../community.html'>Community &amp; Forums</a></li>
      <li><a href='./../../community-group-charter.html' title="Community Group Charter">Community Group</a></li>
      <li><a href='./../../developer_spotlight.html'>Developer Spotlight</a></li>
    </ul></li>
  </ul></li>
  <li><a href='./../../makinggwtbetter.html'>Making GWT Better</a>
  <ul>
    <li><a href='./../../makinggwtbetter.html' title="Learn how to contribute to GWT">Contributing</a></li>
    <li><a href='./../../lifeofanissue.html' title="Learn about GWT and the issue tracker">Life of an Issue</a></li>
    <li><a href='./../../steering.html' title="The GWT Steering Committee">Steering Committee</a>
    <ul>
      <li><a href='./../../meetingnotes.html'>Meeting Notes</a></li>
    </ul></li>
  </ul></li>
  <li><a href='./../../terms.html'>Terms</a>
  <ul>
    <li><a href='./../../terms.html'>GWT License</a></li>
    <li><a href='./../../GWTPolicy.html'>GWT Name Use Policy</a></li>
    <li><a href='./../../privacy.html'>Privacy</a></li>
  </ul></li>
</ul>
                </nav>
            </aside>

            <a id="logo-mobile" href="#"><span>>Back to GWT homepage</span></a>

            <div class="menu-button">Menu</div>

            <nav id="nav-mobile" class="flexnav">
                <ul>
  <li><a href='./../../gettingstarted-v2.html'>Get Started</a>
  <ul>
    <li><a href='./../../gettingstarted-v2.html' title="Getting Started with GWT SDK">Overview</a></li>
    <li><a href='./../../learnmore-sdk.html' title="Learn more about the GWT SDK">SDK Learn More</a></li>
    <li><a href='./../../usingeclipse.html'>Configure Eclipse</a></li>
    <li><a href='./../../usingintellij.html'>Configure IntelliJ</a></li>
  </ul></li>
  <li><a href='./../../doc/latest/tutorial/index.html'>Tutorials</a>
  <ul>
    <li><a href='./../../doc/latest/tutorial/index.html'>Overview</a></li>
    <li><a href="#" title="Create, build and run a GWT application">Build a GWT App.</a>
    <ul>
      <li><a href='./../../doc/latest/tutorial/gettingstarted.html'>Introduction</a></li>
      <li><a href='./../../doc/latest/tutorial/create.html'>Create</a></li>
      <li><a href='./../../doc/latest/tutorial/design.html'>Design</a></li>
      <li><a href='./../../doc/latest/tutorial/buildui.html'>Build the UI</a></li>
      <li><a href='./../../doc/latest/tutorial/manageevents.html'>Manage Events</a></li>
      <li><a href='./../../doc/latest/tutorial/codeclient.html'>Coding Client side</a></li>
      <li><a href='./../../doc/latest/tutorial/debug.html'>Debugging</a></li>
      <li><a href='./../../doc/latest/tutorial/style.html'>Styling</a></li>
      <li><a href='./../../doc/latest/tutorial/compile.html'>Compilation</a></li>
    </ul></li>
    <li><a href="#">AJAX Communication</a>
    <ul>
      <li><a href='./../../doc/latest/tutorial/clientserver.html'>Introduction</a></li>
      <li><a href='./../../doc/latest/tutorial/RPC.html'>Using GWT RPC</a></li>
      <li><a href='./../../doc/latest/tutorial/JSON.html'>Retrieving JSON</a></li>
      <li><a href='./../../doc/latest/tutorial/Xsite.html'>Cross-site Requests</a></li>
      <li><a href='./../../doc/latest/tutorial/JSONphp.html'>JSON php</a></li>
    </ul></li>
    <li><a href='./../../doc/latest/tutorial/i18n.html'>Internationalization</a></li>
    <li><a href='./../../doc/latest/tutorial/JUnit.html'>JUnit Testing</a></li>
    <li><a href='./../../doc/latest/tutorial/appengine.html' title="Deploy to Google App Engine">Deploy to GAE</a></li>
    <li><a href='./../../doc/latest/polymer-tutorial/introduction.html'>GWT &amp; Polymer</a>
    <ul>
      <li><a href='./../../doc/latest/polymer-tutorial/create.html'>Create Project</a></li>
      <li><a href="#">Opt A: Widgets UI</a>
      <ul>
        <li><a href='./../../doc/latest/polymer-tutorial/widgets-buildui.html'>Build the UI</a></li>
        <li><a href='./../../doc/latest/polymer-tutorial/widgets-applogic.html'>Events &amp; Logic</a></li>
      </ul></li>
      <li><a href="#">Opt B: Elements UI</a>
      <ul>
        <li><a href='./../../doc/latest/polymer-tutorial/elements-buildui.html'>Build the UI</a></li>
        <li><a href='./../../doc/latest/polymer-tutorial/elements-applogic.html'>Events &amp; Logic</a></li>
      </ul></li>
    </ul></li>
  </ul></li>
  <li><a href='./../../doc/latest/DevGuide.html'>Documentation</a>
  <ul>
    <li><a href='./../../doc/latest/DevGuide.html'>Overview</a></li>
    <li><a href="#">Coding Basics</a>
    <ul>
      <li><a href='./../../doc/latest/DevGuideCodingBasics.html'>Introduction</a></li>
      <li><a href='./../../doc/latest/DevGuideOrganizingProjects.html'>Organize Projects</a></li>
      <li><a href='./../../doc/latest/DevGuideCompilingAndDebugging.html'>Compile &amp; Debug</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsClient.html'>Client-side</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsCompatibility.html'>JRE Compatibility</a></li>
      <li><a href='./../../doc/latest/DevGuideServerCommunication.html' title="Communicate with a server">Ajax Communication</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsHistory.html'>History Mechanism</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsFormatting.html' title="Number and Date Formating">Formatting</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsDelayed.html'>Delayed Logic</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsJSON.html'>Working with JSON</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsXML.html'>Working with XML</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsJSNI.html' title="JavaScript Native Interface">JavaScript: JSNI</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsJsInterop.html' title="JsInterop">JavaScript: JsInterop</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsOverlay.html'>Overlay Types</a></li>
      <li><a href='./../../doc/latest/DevGuideCodingBasicsDeferred.html'>Deferred Binding</a></li>
    </ul></li>
    <li><a href="#">Build User Interfaces</a>
    <ul>
      <li><a href='./../../doc/latest/DevGuideUi.html'>Contents</a></li>
      <li><a href='./../../doc/latest/DevGuideUiBrowser.html'>Cross-Browser Support</a></li>
      <li><a href='./../../doc/latest/DevGuideUiPanels.html'>Layout with Panels</a></li>
      <li><a href='./../../doc/latest/DevGuideUiWidgets.html'>Widgets</a></li>
      <li><a href='./../../doc/latest/DevGuideUiCustomWidgets.html'>Custom Widgets</a></li>
      <li><a href='./../../doc/latest/DevGuideUiCellWidgets.html'>Cell Widgets</a></li>
      <li><a href='./../../doc/latest/DevGuideUiCellTable.html'>Cell Tables</a></li>
      <li><a href='./../../doc/latest/DevGuideUiCustomCells.html'>Custom Cells</a></li>
      <li><a href='./../../doc/latest/DevGuideUiEditors.html'>Editors</a></li>
      <li><a href='./../../doc/latest/DevGuideUiDom.html'>Using the DOM</a></li>
      <li><a href='./../../doc/latest/DevGuideUiHandlers.html'>Events &amp; Handlers</a></li>
      <li><a href='./../../doc/latest/DevGuideUiCss.html'>Css Styling</a></li>
      <li><a href='./../../doc/latest/DevGuideUiBinder.html'>UIBinder</a></li>
      <li><a href='./../../doc/latest/DevGuideUiImageBundles.html'>Image Bundles</a></li>
    </ul></li>
    <li><a href="#">Html5 Support</a>
    <ul>
      <li><a href='./../../doc/latest/DevGuideHtml5.html'>Contents</a></li>
      <li><a href='./../../doc/latest/DevGuideHtml5Storage.html'>Html5 Storage</a></li>
    </ul></li>
    <li><a href="#">Test with JUnit</a>
    <ul>
      <li><a href='./../../doc/latest/DevGuideTesting.html'>Guide</a></li>
      <li><a href='./../../doc/latest/DevGuideTestingHtmlUnit.html'>HtmlUnit</a></li>
      <li><a href='./../../doc/latest/DevGuideTestingRemoteTesting.html'>Remote Testing</a></li>
      <li><a href='./../../doc/latest/DevGuideTestingCoverage.html'>Code Coverage</a></li>
    </ul></li>
    <li><a href='./../../doc/latest/DevGuideDeploying.html'>Deploy</a></li>
    <li><a href="#">Advanced Topics</a>
    <ul>
      <li><a href='./../../doc/latest/DevGuideLogging.html'>Logging</a></li>
      <li><a href="#">Security</a>
      <ul>
        <li><a href='./../../doc/latest/DevGuideSecurity.html'>Contents</a></li>
        <li><a href='./../../doc/latest/DevGuideSecuritySafeHtml.html'>Using SafeHtml</a></li>
        <li><a href='./../../doc/latest/DevGuideSecurityRpcXsrf.html'>XSRF Protection</a></li>
      </ul></li>
      <li><a href='./../../doc/latest/DevGuideAutoBeans.html'>AutoBeans</a></li>
      <li><a href='./../../doc/latest/DevGuideRequestFactory.html'>Request Factory</a></li>
      <li><a href='./../../doc/latest/DevGuideMvpActivitiesAndPlaces.html'>Activities And Places</a></li>
      <li><a href='./../../doc/latest/DevGuideValidation.html'>Validation</a></li>
      <li><a href="#">Internationalization</a>
      <ul>
        <li><a href='./../../doc/latest/DevGuideI18n.html' title="I18N">Introduction</a></li>
        <li><a href='./../../doc/latest/DevGuideI18nLocale.html'>Locale</a></li>
        <li><a href='./../../doc/latest/DevGuideI18nConstants.html'>Constants</a></li>
        <li><a href='./../../doc/latest/DevGuideI18nMessages.html'>Messages</a></li>
        <li><a href='./../../doc/latest/DevGuideI18nPluralForms.html'>Plural Forms</a></li>
        <li><a href='./../../doc/latest/DevGuideUiBinderI18n.html'>UI Binder</a></li>
      </ul></li>
      <li><a href='./../../doc/latest/DevGuideA11y.html'>Accessibility</a></li>
      <li><a href="#">Optimize</a>
      <ul>
        <li><a href='./../../doc/latest/DevGuideOptimizing.html'>Overview</a></li>
        <li><a href='./../../doc/latest/DevGuideCodeSplitting.html'>Code Splitting</a></li>
        <li><a href='./../../doc/latest/DevGuideCompileReport.html'>Compile Report</a></li>
        <li><a href='./../../doc/latest/DevGuideClientBundle.html'>Client Bundle</a></li>
        <li><a href='./../../doc/latest/DevGuideGssVsCss.html'>GSS vs CSS Syntax</a></li>
        <li><a href='./../../doc/latest/DevGuideLightweightMetrics.html'>Lightweight Metrics</a></li>
      </ul></li>
      <li><a href='./../../doc/latest/DevGuideLinkers.html'>Linkers</a></li>
    </ul></li>
    <li><a href="#">Reference</a>
    <ul>
      <li><a href='./../../doc/latest/RefCommandLineTools.html'>Command Line Tools</a></li>
      <li><a href='./../../doc/latest/RefGWTClassAPI.html'>GWT Class API</a></li>
      <li><a href='./../../doc/latest/RefJreEmulation.html'>Jre Emulation</a></li>
      <li><a href='./../../doc/latest/RefWidgetGallery.html'>Widgets Gallery</a></li>
    </ul></li>
    <li><a href="#">FAQ</a>
    <ul>
      <li><a href='./../../doc/latest/FAQ.html'>Contents</a></li>
      <li><a href='./../../doc/latest/FAQ_GettingStarted.html'>Getting Started</a></li>
      <li><a href='./../../doc/latest/FAQ_DebuggingAndCompiling.html'>Debug &amp; Compile</a></li>
      <li><a href='./../../doc/latest/FAQ_UI.html'>Build UI</a></li>
      <li><a href='./../../doc/latest/FAQ_Client.html'>Client</a></li>
      <li><a href='./../../doc/latest/FAQ_Server.html'>Server</a></li>
      <li><a href='./../../doc/latest/FAQ_Troubleshooting.html'>Troubleshooting</a></li>
    </ul></li>
    <li><a href='./../../doc/latest/DevGuideGlossary.html'>Glossary</a></li>
  </ul></li>
  <li><a href='./../../examples.html'>Resources</a>
  <ul>
    <li><a href='./../../examples.html'>Examples</a></li>
    <li><a href='./../../presentations.html' title="Different Presentations on GWT">Presentations</a></li>
    <li><a href="#">Articles</a>
    <ul>
      <li><a href='./../../articles/articles.html'>Overview</a></li>
      <li><a href='./../../articles/gss_migration.html' title="Migrating CssResources from CSS to GSS">GSS Migration</a></li>
      <li><a href='./../../articles/fragment_merging.html'>Fragment Merging</a></li>
      <li><a href='./../../articles/superdevmode.html'>Super Dev Mode</a></li>
      <li><a href='./../../articles/elemental.html'>Elemental</a></li>
      <li><a href='./../../articles/dynamic_host_page.html' title="Running GWT in dynamic host pages">Dynamic Host Page</a></li>
      <li><a href="#">Building MVP apps</a>
      <ul>
        <li><a href='./../../articles/mvp-architecture.html'>MVP Part I</a></li>
        <li><a href='./../../articles/mvp-architecture-2.html'>MVP Part II</a></li>
      </ul></li>
      <li><a href='./../../articles/using_gwt_with_hibernate.html'>GWT &amp; Hibernate</a></li>
      <li><a href='./../../articles/testing_methodologies_using_gwt.html' title="Best practices on Testing GWT applications">Testing</a></li>
      <li><a href='./../../articles/dom_events_memory_leaks_and_you.html' title="How GWT tackles memory leaks">DOM Memory Leaks</a></li>
      <li><a href='./../../articles/security_for_gwt_applications.html' title="Security for GWT applications">Security</a></li>
      <li><a href='./../../articles/using_gwt_for_json_mashups.html' title="Using GWT for JSON Mashups">JSON &amp; Mashups</a></li>
      <li><a href='./../../articles/gwt-iphone.html'>GWT iPhone</a></li>
    </ul></li>
    <li><a href='./../../books.html' title="GWT Books">Books</a></li>
    <li><a href='./../../casestudies.html' title="Case Studies for using GWT">Case Studies</a></li>
    <li><a href="#">Community</a>
    <ul>
      <li><a href='./../../community.html'>Community &amp; Forums</a></li>
      <li><a href='./../../community-group-charter.html' title="Community Group Charter">Community Group</a></li>
      <li><a href='./../../developer_spotlight.html'>Developer Spotlight</a></li>
    </ul></li>
  </ul></li>
  <li><a href='./../../makinggwtbetter.html'>Making GWT Better</a>
  <ul>
    <li><a href='./../../makinggwtbetter.html' title="Learn how to contribute to GWT">Contributing</a></li>
    <li><a href='./../../lifeofanissue.html' title="Learn about GWT and the issue tracker">Life of an Issue</a></li>
    <li><a href='./../../steering.html' title="The GWT Steering Committee">Steering Committee</a>
    <ul>
      <li><a href='./../../meetingnotes.html'>Meeting Notes</a></li>
    </ul></li>
  </ul></li>
  <li><a href='./../../terms.html'>Terms</a>
  <ul>
    <li><a href='./../../terms.html'>GWT License</a></li>
    <li><a href='./../../GWTPolicy.html'>GWT Name Use Policy</a></li>
    <li><a href='./../../privacy.html'>Privacy</a></li>
  </ul></li>
</ul>
            </nav>

            <div id="search">
                <form onsubmit="javascript:void(0)">
                    <input type="text"/>
                    <button type="submit"><i class="icon_search"></i> <span>Search</span></button>
                </form>
            </div>

            <div style="visibility:hidden">
                <gcse:searchresults-only gname="searchresults"></gcse:searchresults-only>
            </div>

            <div id="content" role="main">
                <div class="container">
                    <span id="editLink" title="Edit this page on GitHub">
                        <a class="icon_editGithub" href="https://github.com/gwtproject/gwt-site/edit/main/src/main/markdown/doc/latest/DevGuideSecuritySafeHtml.md"></a>
                    </span>
                    <h1>Security Safe HTML</h1><p>Cross-Site-Scripting (XSS) vulnerabilities are a class of web application security bugs that allow an attacker to execute arbitrary malicious JavaScript in the context of a victim&rsquo;s browser session. In turn, such malicious script can for example steal the user&rsquo;s session credentials (resulting in hijacking and full compromise of the user&rsquo;s session), extract and leak sensitive or confidential data from the victim&rsquo;s account, or execute transactions chosen by the attacker in the name of the victim.</p><p>In GWT applications, many aspects of a web-application&rsquo;s UI are expressed in terms of abstractions (such as Widgets) that do not expose a potential for untrusted data to be interpreted as HTML markup or script. As such, GWT apps are inherently less prone to XSS vulnerabilities than applications built on top of frameworks where UI is rendered directly as HTML (such as server-side templating systems, with the exception of templating systems that <a href="http://googleonlinesecurity.blogspot.com/2009/03/reducing-xss-by-way-of-automatic.html">automatically escape template variables</a> according to the HTML context the variable appears in).</p><p>However, GWT applications are not inherently safe from XSS vulnerabilities.</p><p>A large class of potential XSS vulnerabilities in GWT applications arises from the use of methods that cause the browser to evaluate their argument as HTML, for example, <code>setInnerHTML(String)</code>, <code>setHTML(String)</code>, as well as the constructors of HTML-containing widgets such as <code>HTML</code>. If an application passes a string to such a method where the string is even partially derived from untrusted input, the application is vulnerable to XSS. In this context, untrusted input includes immediate user input, data the client app has received from the server and which may have been provided to the server by a different, malicious user, as well as values obtained from a history token read from a URL fragment.</p><p>This document introduces a new security package and accompanying coding guidelines that help developers avoid this class of XSS vulnerabilities, while minimizing overhead in run-time and development effort. A primary goal of the coding guidelines is to facilitate high-confidence code-reviews of applications for the absence of this class of XSS bugs.</p><p>Note that this document does not address other classes of XSS vulnerabilities that GWT applications may be vulnerable to, such as server-side XSS, as well as other classes of client-side XSS (for example, calling <code>eval()</code> on an untrusted string in native JavaScript.)</p>
<ol>
  <li><a href="#Coding_guidelines">Coding Guidelines</a></li>
  <li><a href="#Coding_guidelines_for_client_code">Coding Guidelines for Developers of Widget Client Code</a>
  <ol>
    <li><a href="#Prefer_Plain_Text">Prefer Plain-Text Widgets</a></li>
    <li><a href="#Avoid_ad_hoc_generation_of_HTML_">Use UiBinder for Declarative Layout</a></li>
    <li><a href="#Use_the_SafeHtml_type">Use the SafeHtml Type to Represent XSS-Safe HTML</a></li>
    <li><a href="#Creating_SafeHtml_Values">Creating SafeHtml Values</a></li>
  </ol></li>
  <li><a href="#Coding_Guidelines_for_Widget_Developers">Coding Guidelines for Widget Developers</a>
  <ol>
    <li><a href="#Provide_SafeHtml">Provide SafeHtml Methods and Constructors</a></li>
    <li><a href="#Unwrap_SafeHtml">&ldquo;Unwrap&rdquo; SafeHtml Close to the Value&rsquo;s Use</a></li>
  </ol></li>
  <li><a href="#Caveats_and_Limitations">Caveats and Limitations</a></li>
</ol><h2>Coding Guidelines<a id="Coding_guidelines"></a></h2><p>The goals of these guidelines are two-fold:</p>
<ol>
  <li>A GWT application whose code-base these guidelines have been consistently and comprehensively applied to should be free of the class of XSS vulnerabilities due to attacker-controlled strings being evaluated as HTML in the browser.</li>
  <li>The code should be structured such that it is easily reviewable for absence of this class of XSS &ndash; for each use of a potentially XSS-prone method such as <code>Element.setInnerHTML</code> it should be &ldquo;obvious&rdquo; that this use can&rsquo;t result in an XSS vulnerability.</li>
</ol><p>The second goal is based on the desire to achieve a high degree of confidence in the absence of this class of bugs. When reviewing code, it is often difficult and error-prone to determine whether or not a value passed to some method may be controlled by an attacker, especially if the value is received via a long chain of assignments and method calls.</p><p>Hence, the central idea behind these guidelines is to use a type to encapsulate strings that are safe to use in HTML context, construct safe HTML into instances of this type, and use this type to &ldquo;transport&rdquo; strings as close as possible to a code site where they are used as HTML. Such a use is then easily apparent to be free of XSS vulnerabilities, given the type&rsquo;s contract (as well as Java&rsquo;s type-safety) as an assumption. </p><h2>Coding Guidelines for Developers of Widget Client Code<a id="Coding_guidelines_for_client_code"></a></h2><p>The following guidelines are aimed at developers of client-code that uses existing widget libraries, in particular the core widget library that is distributed with GWT.</p><h3>Prefer Plain-Text Widgets<a id="Prefer_Plain_Text"></a></h3><p>The best way to avoid XSS bugs, and to write code that is easily seen to be free of XSS vulnerabilities, is to simply not use API methods and widgets that interpret parameters as HTML unless strictly necessary.</p><p>For example, it is not uncommon to see GWT application code such as:</p>
<pre><code>HTML widget = new HTML(&quot;Some text in the widget&quot;);
</code></pre><p>or</p>
<pre><code>widget.setHTML(someText);
</code></pre><p>In the first example, it&rsquo;s obvious that the value passed to the <code>HTML</code> constructor cannot result in an XSS vulnerability: The value doesn&rsquo;t contain HTML markup, and furthermore is a compile-time constant and hence cannot possibly be manipulated by an attacker. In the second example, it may be obvious to a reviewer that the call is safe if the variable <code>someText</code> is assigned to &ldquo;nearby&rdquo; in the code; however if the supplied value is passed in via a parameter through a few layers of method calls this is much less obvious. Also, such a scenario may well result in a bug in a future code iteration if calling code is changed by a developer who doesn&rsquo;t realize that the value will be used in an HTML context.</p><p>In such situations, it is preferred to use the non-HTML equivalent, that is, the <code>Label</code> widget and the <code>setText</code> method, respectively, both of which are always safe from XSS even if the string passed to the <code>Label</code> constructor or the <code>setText</code> method is under the control of an attacker. Similarly, use <code>setInnerText</code> instead of <code>setInnerHTML</code> on DOM elements.</p><h3>Use UiBinder for Declarative Layout<a id="Avoid_ad_hoc_generation_of_HTML_"></a></h3><p>Using <a href="DevGuideUiBinder.html">GWT UiBinder</a> is the preferred approach to declaratively creating Widget and DOM structures in GWT applications. In addition to the primary benefits of UiBinder (clean separation of code and layout, performance, built-in internationalization support), using UiBinder also typically results in code that is much less prone to XSS vulnerabilities than code that uses an ad-hoc approach to assembling HTML markup to, say, be placed into a <code>HTML</code> widget.</p><p>Often, the &ldquo;leaf nodes&rdquo; in the UiBinder-declared layout will be widgets whose data content is plain text rather than HTML markup. As such, they are naturally populated via <code>setText</code> rather than <code>setHTML</code> or equivalent, which completely avoids the potential for an XSS vulnerability.</p><h3>Use the SafeHtml Type to Represent XSS-Safe HTML<a id="Use_the_SafeHtml_type"></a></h3><p>There will be occasions where using <code>UiBinder</code> or similar approaches is not practical or too inconvenient. The <code>com.google.gwt.safehtml</code> package provides types and classes that can be used to write such code and yet have confidence that it is free of XSS.</p><p>The package provides an interface, <a href="/javadoc/latest/com/google/gwt/safehtml/shared/SafeHtml.html"><code>SafeHtml</code></a>, to represent the subset of strings that are safe to use in an HTML context, in the sense that evaluating the string as HTML in a browser will not result in script execution. More specifically, all implementations of this interface must adhere to the type contract that invoking the <code>asString()</code> method on an instance will always return a string that is HTML-safe in the above sense. In addition, the type&rsquo;s contract requires that the concatenation of any two <code>SafeHtml</code>-wrapped strings must itself be safe to use in an HTML context.</p><p>With the introduction of the <code>com.google.gwt.safehtml</code> package, all of the core GWT library&rsquo;s widgets that take <code>String</code> arguments that are interpreted as HTML have been augmented with corresponding methods that take a <code>SafeHtml</code>-typed value. In particular, all widgets that implement the <a href="/javadoc/latest/com/google/gwt/user/client/ui/HasHTML.html"><code>HasHTML</code></a> (or <a href="/javadoc/latest/com/google/gwt/user/client/ui/HasDirectionalHtml.html"><code>HasDirectionalHtml</code></a>) interface also implement the <a href="/javadoc/latest/com/google/gwt/safehtml/client/HasSafeHtml.html"><code>HasSafeHtml</code></a> (or <a href="/javadoc/latest/com/google/gwt/user/client/ui/HasDirectionalSafeHtml.html"><code>HasDirectionalSafeHtml</code></a>, respectively) interface. These interfaces define:</p>
<pre><code>public void setHTML(SafeHtml html);
public void setHTML(SafeHtml html, Direction dir);
</code></pre><p>as safe alternatives to <code>setHTML(String)</code> and <code>setHTML(String, Direction)</code>.</p><p>For example, the <a href="/javadoc/latest/com/google/gwt/user/client/ui/HTML.html"><code>HTML</code></a> widget has been augmented with the following constructors and methods:</p>
<pre><code>public class HTML extends Label 
    implements HasDirectionalHtml, HasDirectionalSafeHtml {
  // ...
  public HTML(SafeHtml html);
  public HTML(SafeHtml html, Direction dir);
  @Override
  public void setHTML(SafeHtml html);
  @Override
  public void setHTML(SafeHtml html, Direction dir);
}
</code></pre><p>A central aspect of these coding guidelines is that developers of GWT applications should not use constructors and methods with <code>String</code>-typed parameters whose values are interpreted as HTML, and instead use the <code>SafeHtml</code> equivalent.</p><h3>Creating SafeHtml Values<a id="Creating_SafeHtml_Values"></a></h3><p>The <code>safehtml</code> package provides a number of tools to create instances of <code>SafeHtml</code> that cover many common scenarios in which GWT applications typically manipulate strings containing HTML markup:</p>
<ul>
  <li>A <a href="#SafeHtmlBuilder">builder class</a> that facilitates the creation of <code>SafeHtml</code> values by safely combining developer-controlled snippets of HTML markup with (possibly attacker-controlled) values.</li>
  <li>A <a href="#SafeHtmlTemplates">templating mechanism</a> that allows the definition of snippets of structured HTML markup, into which values are safely interpolated at run-time.</li>
  <li><a href="DevGuideI18nMessages.html#SafeHtmlMessages">I18N <code>Messages</code></a> can return localized messages in the form of a <code>SafeHtml</code>.</li>
  <li>A number of <a href="#Convenience_Methods">convenience methods</a> are available to create <code>SafeHtml</code> values from strings.</li>
  <li>A <a href="#SimpleHtmlSanitizer">simple HTML sanitizer</a> that accepts a limited subset of HTML markup in its input, and HTML-escapes any HTML markup not within that subset.</li>
</ul><p>Each of the above mechanisms has been carefully reviewed with respect to adherence to the <code>SafeHtml</code> type contract.</p><h4>SafeHtmlBuilder<a id="SafeHtmlBuilder"></a></h4><p>In many scenarios, the strings that will be used in an HTML context are concatenated partially from <em>trusted</em> strings (for example, snippets of HTML markup defined within the application&rsquo;s source) and <em>untrusted</em> strings that may be under the control of a potential attacker. The <a href="/javadoc/latest/com/google/gwt/safehtml/shared/SafeHtmlBuilder.html"><code>SafeHtmlBuilder</code></a> class provides a builder interface that supports this use-case while ensuring that the untrusted parts of the string are appropriately escaped.</p><p>Consider this usage example:</p>
<pre><code>public void showItems(List&lt;String&gt; items) {
  SafeHtmlBuilder builder = new SafeHtmlBuilder();
  for (String item : items) {
    builder.appendEscaped(item).appendHtmlConstant(&quot;&lt;br/&gt;&quot;);
  }
  itemsListHtml.setHTML(builder.toSafeHtml());
}
</code></pre><p><code>SafeHtmlBuilder</code>&rsquo;s <code>appendHtmlConstant</code> method is used to append a constant snippet of HTML to the builder, without escaping the argument. The <code>appendEscaped</code> method in contrast will HTML-escape its string argument before appending.</p><p>To allow <code>SafeHtmlBuilder</code> to adhere to the <code>SafeHtml</code> contract, code using it <strong>must</strong> in turn adhere to the following rules:</p>
<ol>
  <li>The argument of <code>appendHtmlConstant</code> must be a string literal (or, more generally, must be fully determined at compile time).</li>
  <li>The string provided must not end within an HTML tag. For example, the following use would be illegal because the argument of the first <code>appendHtmlConstant</code> contains an incomplete <code>&lt;a&gt;</code> tag; the string ends in the context of the value of the <code>href</code> attribute of that tag:</li>
</ol>
<pre><code>builder.appendHtmlConstant(&quot;&lt;a href=&#39;&quot;).appendEscaped(url).appendHtmlConstant(&quot;&#39;&gt;&quot;)
</code></pre><p>The first rule is necessary to ensure that strings passed to <code>appendHtmlConstant</code> cannot possibly be under the control of an attacker. The second rule is necessary because untrusted strings used inside an HTML tag attribute can result in script execution even if they are HTML-escaped. In the above example, script execution could occur if the value of <code>url</code> is <code>javascript:evil_js_code()</code>.</p><p>When executing client-side in hosted mode, or server-side with assertions enabled, <code>appendHtmlConstant</code> parses its argument and checks that it satisfies the second constraint. For performance reasons, this check is not performed in production mode in client code, and with assertions disabled on the server.</p><p><code>SafeHtmlBuilder</code> also provides the <code>append(SafeHtml)</code> method. The contents of the provided <code>SafeHtml</code> will be appended to the builder without prior escaping (due to the <code>SafeHtml</code> contract, it can be assumed to be HTML-safe). This method allows HTML snippets wrapped as <code>SafeHtml</code> to be composed into larger <code>SafeHtml</code> snippets.</p><h4>Creating HTML using the SafeHtmlTemplates Interface<a id="SafeHtmlTemplates"></a></h4><p>To facilitate the creation of SafeHtml instances containing more complex HTML markup, the <code>safehtml</code> package provides a compile-time bound template mechanism which can be used as in this example:</p>
<pre><code>public class MyWidget ... {
// ...
  public interface MyTemplates extends SafeHtmlTemplates {
    @Template(&quot;&lt;span class=\&quot;{3}\&quot;&gt;{0}: &lt;a href=\&quot;{1}\&quot;&gt;{2}&lt;/a&gt;&lt;/span&gt;&quot;)
    SafeHtml messageWithLink(SafeHtml message, String url, String linkText,
        String style);
  }
 
  private static final MyTemplates TEMPLATES =
      GWT.create(MyTemplates.class);
 
  public void useTemplate(...) {
    SafeHtml message;
    String url;
    String linkText;
    String style;
    // ...
    InlineHTML messageWithLinkInlineHTML = new InlineHTML(
        TEMPLATES.messageWithLink(message, url, linkText, style));
    // ...
  }
</code></pre><p>Instantiating a <a href="/javadoc/latest/com/google/gwt/safehtml/client/SafeHtmlTemplates.html"><code>SafeHtmlTemplates</code></a> interface with <code>GWT.create()</code> returns an instance of an implementation that is generated at compile time. The code generator parses the value of each template method&rsquo;s <code>@Template</code> annotation as an (X)HTML template, with template variables denoted by curly-brace placeholders that refer by index to the corresponding template method parameter.</p><p>All methods in <code>SafeHtmlTemplates</code> interfaces must have a return type of <code>SafeHtml</code>. The compile-time generated implementations of such methods are constructed such that they return instances of <code>SafeHtml</code> that indeed honor the <code>SafeHtml</code> type contract. The code generator accomplishes this guarantee by a combination of compile-time checks and run-time checks in the generated code (see however the note below with regards to a limitation of the current implementation): </p>
<ul>
  <li>The template is parsed with a lenient HTML stream parser that accepts HTML similar to what would typically be accepted by a web browser. The parser does not require that templates consist of balanced HTML tags. However, the parser and template code generator enforce the following constraints on input templates: Template parameters may not appear in HTML comments, parameters may not appear in a Javascript context (e.g., inside a<code>&lt;script&gt;</code> tag, or in an <code>onclick</code> handler), parameters in HTML attributes can only appear in the value and must been closed in quotes (e.g., <code>&lt;tag attribute=&quot;{0}&quot;&gt;</code> would be allowed, <code>&lt;tag {0} attribute={1}&gt;</code> would not), and the template cannot end inside a tag or inside an attribute. For example, the following is not a valid template:</li>
</ul>
<pre><code>&lt;span&gt;&lt;{0} class=&quot;xyz&quot; {1}=&quot;...&quot;/&gt;&lt;/span&gt;
</code></pre>
<ul>
  <li>The generated code passes actual template parameters through appropriate sanitizer and escaping methods depending on the HTML context that the template parameter appears in and the declared type of the corresponding template method parameter, as described below.</li>
</ul><p><strong>Limitation:</strong> The current implementation of the parser cannot guarantee the <code>SafeHtml</code> contract for templates with template variables in a CSS context (that is, within a <code>style</code> attribute or tag). When the parser encounters encounters a template with a variable in a style attribute or tag (e.g., <code>&lt;div style=&quot;{0}&quot;&gt;</code>), a warning will be emitted. Developers are advised to carefully review these cases to ensure that parameters passed to the template are from a trusted source or suitably sanitized.</p><h5>Template Processing</h5><p>The choice of escaping and/or sanitization applied to template parameters is made according to the following rules:</p><h6>Parameters in inner HTML context</h6><p>Parameters appearing in plain inner HTML context (for example, parameter <code>{0}</code> and <code>{2}</code> in the MyWidget example) are processed as follows:</p>
<ul>
  <li>If the declared type of the corresponding template method parameter is <code>SafeHtml</code> (for example, parameter <code>message</code> in the MyWidget example), the parameter&rsquo;s actual value is emitted without further validation or escaping.</li>
  <li>If the declared type is <code>String</code> (for example, parameter <code>linkText</code> in the example), the parameter&rsquo;s actual value is HTML-escaped at run-time before being emitted.</li>
  <li>If the declared type is a primitive type (for example, a numeric or Boolean type), the value is converted to <code>String</code> and emitted, but not passed through an escape method because the String representation of primitive types is always free of HTML special characters.</li>
  <li>If the declared type is any other type, the parameter&rsquo;s value is first converted to <code>String</code> and then HTML escaped.</li>
</ul><h6>Parameters in attribute context</h6><p>Parameters appearing in an attribute context (for example, <code>{1}</code> and <code>{3}</code> in the example) are treated as follows:</p>
<ul>
  <li>If the declared type of the corresponding template method parameter is <em>not</em> <code>String</code>, the parameter&rsquo;s value is first converted to <code>String</code>.</li>
  <li>The parameter is then HTML-escaped before it is emitted.</li>
</ul><p>Note that parameters with a declared type of <code>SafeHtml</code> are not treated specially if they occur in an attribute context (that is, such parameters will not skip escaping). This is because <code>SafeHtml</code> strings can contain non-escaped HTML special characters (as long as such HTML markup is safe); however no non-escaped HTML special characters are allowed within an attribute&rsquo;s value.</p><h6>Parameters in URI-valued attribute context</h6><p>Parameters that appear at the start of a URI-valued attribute such as <code>src</code> or <code>href</code>, for example parameter <code>{1}</code> but not <code>{3}</code> in the example, are treated specially:</p>
<ul>
  <li>Before HTML escaping, the parameter&rsquo;s value is sanitized to ensure it is safe to use as the value of a URI-valued HTML attribute. This sanitization is performed as follows (see <a href="/javadoc/latest/com/google/gwt/safehtml/shared/UriUtils.html#sanitizeUri-java.lang.String-"><code>UriUtils.sanitizeUri(String)</code></a>):
  <ul>
    <li>URIs that don&rsquo;t have a scheme are considered safe and are used as is.</li>
    <li>URIs whose scheme equals one of <code>http, https, ftp, mailto</code> are considered safe and are used as is.</li>
    <li>Any other URI is considered unsafe and discarded; instead the &ldquo;void&rdquo; URI &ldquo;<code>#</code>&rdquo; is inserted into the template.</li>
  </ul></li>
</ul><p><strong>Limitation:</strong> There is no escaping mechanism for the parameter syntax. For example, it is impossible to write a template that results in a literal output containing a substring of the form <code>{0}</code>.</p><h4>Convenience Methods<a id="Convenience_Methods"></a></h4><p>The <a href="/javadoc/latest/com/google/gwt/safehtml/shared/SafeHtmlUtils.html"><code>SafeHtmlUtils</code></a> class provides a number of convenience methods to create <code>SafeHtml</code> values from strings:</p>
<ul>
  <li><strong><a href="/javadoc/latest/com/google/gwt/safehtml/shared/SafeHtmlUtils.html#fromString-java.lang.String-">SafeHtmlUtils.fromString(String s)</a></strong> HTML-escapes its argument and returns the result wrapped as a <code>SafeHtml</code>.</li>
  <li><strong><a href="/javadoc/latest/com/google/gwt/safehtml/shared/SafeHtmlUtils.html#fromSafeConstant-java.lang.String-">SafeHtmlUtils.fromSafeConstant(String s)</a></strong> Returns a compile-time constant string wrapped as a <code>SafeHtml</code>, without escaping the value. To allow <code>fromSafeConstant</code> to adhere to the <code>SafeHtml</code> contract, code using it <strong>must</strong> in turn adhere to the same constraints that apply to <code>SafeHtmlBuilder.appendHtmlConstant</code>:
  <ol>
    <li>The argument of <code>fromSafeConstant</code> must be a string literal (or, more generally, must be fully determined at compile time).</li>
    <li>The string provided must not end within an HTML tag. For example, the following use would be illegal because the value passed to <code>fromSafeConstant</code> contains an incomplete <code>&lt;a&gt;</code> tag; the string ends in the context of the value of the <code>href</code> attribute of that tag:</li>
  </ol></li>
</ul>
<pre><code>SafeHtml safeHtml = SafeHtmlUtils.fromSafeConstant(&quot;&lt;a href=&#39;&quot;);
</code></pre>
<ul>
  <li><p><strong><a href="/javadoc/latest/com/google/gwt/safehtml/shared/SafeHtmlUtils.html#fromTrustedString-java.lang.String-">SafeHtmlUtils.fromTrustedString(Strings)</a></strong></p><p>Returns its argument as a <code>SafeHtml</code>, without performing any form of validation or escaping. It is the developer&rsquo;s responsibility to ensure that values passed to this method adhere to the <code>SafeHtml</code> contract.</p><p>Use of this method is strongly discouraged; it is intended to only be used in scenarios where existing code produces values that are known to satisfy the <code>SafeHtml</code> type contract, but such code cannot be easily refactored to itself produce <code>SafeHtml</code>-typed values. </p></li>
</ul><h4>SimpleHtmlSanitizer<a id="SimpleHtmlSanitizer"></a></h4><p><a href="/javadoc/latest/com/google/gwt/safehtml/shared/SimpleHtmlSanitizer.html">SimpleHtmlSanitizer</a> produces instances of <code>SafeHtml</code> from input strings by applying a simple sanitization algorithm at run-time.</p><p>It is intended for scenarios where code receives strings containing simple HTML markup, for example, from a server-side backend. An example might be search snippets with query terms marked by <code>&lt;b&gt;</code> tags, as in &quot;<code>&lt;b&gt;Flowers&lt;/b&gt;, roses, plants &amp;amp; gift baskets delivered.
Order &lt;b&gt;flowers&lt;/b&gt; from ...&quot;</code>.</p><p>A GWT application that needs to render such strings can&rsquo;t simply HTML-escape them, since they do contain legitimate HTML. At the same time, the developer of the application might not want to rely on the backend that produced the snippets to be entirely bug free, and to never produce strings that may contain third-party controlled and potentially malicious HTML markup. Instead, such strings can be wrapped as a <code>SafeHtml</code> by passing them through <code>SimpleHtmlSanitizer</code>, for example:</p>
<pre><code>SafeHtml snippetHtml = SimpleHtmlSanitizer.sanitizeHtml(snippet);
</code></pre><p><code>SimpleHtmlSanitizer</code> uses a simple sanitization algorithm that accepts the following markup:</p>
<ul>
  <li>A white-list of basic HTML tags without attributes, including <code>&lt;b&gt;,&lt;em&gt;, &lt;i&gt;, &lt;h1&gt;, ..., &lt;h5&gt;, &lt;hr&gt;, &lt;ul&gt;,&lt;ol&gt;, &lt;li&gt;</code> and the corresponding end tags.</li>
  <li>HTML entities and entity references, such as <code>&amp;#39;, &amp;#x2F;,&amp;amp;, &amp;quot;,</code>etc.</li>
</ul><p>HTML markup in this subset will not be escaped; HTML meta-characters that are not part of a sub-string in the above set will be escaped.</p><p>For example, the string:</p>
<pre><code>foo &lt; bar &amp;amp; that is &lt;em&gt;good&lt;/em&gt;, &lt;span style=&quot;foo: bar&quot;&gt;...
</code></pre><p>will be sanitized into:</p>
<pre><code>foo &amp;amp;lt; bar &amp;amp;amp; that is &lt;em&gt;good&lt;/em&gt;, &amp;amp;lt;span style=&amp;amp;quot;foo: bar&amp;amp;quot;&amp;amp;gt;...
</code></pre><p>Note that <code>SimpleHtmlSanitizer</code> does not make any guarantees that the resulting HTML will be well-formed, and that, for example, all remaining tags in the HTML are balanced.</p><p>The result of sanitization is returned as a <code>SafeHtml</code> and can be appended to a <code>SafeHtmlBuilder</code> without getting escaped.</p><h2>Coding Guidelines for Widget Developers<a id="Coding_Guidelines_for_Widget_Developers"></a></h2><p>Developers of widgets (or other library components) should consider the HTML safety of the widget under development. If possible, widgets should be designed and implemented such that their use cannot result in XSS vulnerabilities under any circumstance. If doing so is not possible, the widget should be designed and implemented such that it is straightforward and natural for developers of client code to use it safely, and furthermore such that it is straightforward for a code reviewer to determine if a given use of the widget is safe.</p><p>For example, a given instantiation of GWT&rsquo;s <code>HTML</code> widget cannot result in an XSS vulnerability as long as its use does not involve calls to the <code>HTML(String)</code> and related constructors, or the <code>HTML.setHTML(String)</code> or <code>HTML.setHTML(String, Direction)</code> methods. Code that uses the equivalent <code>SafeHtml</code> constructors and methods is always safe. </p><h3>Provide SafeHtml Methods and Constructors<a id="Provide_SafeHtml"></a></h3><p>Widgets with constructors or methods with an argument that is interpreted as HTML should provide equivalent constructors and methods that take <code>SafeHtml</code> values. In particular, widgets that implement <code>HasHTML</code> or <code>HasDirectionalHtml</code> should also implement <code>HasSafeHtml</code> or <code>HasDirectionalSafeHtml</code>, respectively.</p><h3>&ldquo;Unwrap&rdquo; SafeHtml Close to the Value&rsquo;s Use<a id="Unwrap_SafeHtml"></a></h3><p>The values wrapped inside a <code>SafeHtml</code> will eventually be used in an HTML context and, for example, used to set a DOM element&rsquo;s <code>innerHTML</code>.</p><p>To make widget implementations as &ldquo;obviously safe&rdquo; as possible, the <code>String</code> content of a <code>SafeHtml</code> should be extracted as close as possible to such a use. For example, a <code>SafeHtml</code> value should be unwrapped immediately before it is assigned to <code>innerHTML</code>, and no earlier:</p>
<pre><code>element.setInnerHTML(safeHtml.asString());
</code></pre><p>Widgets that are composed of other widgets should <em>not</em> unwrap <code>SafeHtml</code> values when initializing sub-widgets, and instead pass the <code>SafeHtml</code> to the sub-widget. For example, write:</p>
<pre><code>public class MyPanel extends HorizontalPanel {
  InlineHTML messageWidget;
  SafeHtml currentMessage;

  public void setMessage(SafeHtml newMessage) {
    currentMessage = newMessage;
    updateUi();
  }

  private void updateUi() {
    messageWidget.setHTML(currentMessage);
  }
}
</code></pre><p>instead of:</p>
<pre><code>public class MyPanel extends HorizontalPanel {
  InlineHTML messageWidget;
  String currentMessage;

  public void setMessage(SafeHtml newMessage) {
    currentMessage = newMessage.asString();
    updateUi();
  }

  private void updateUi() {
    // Potentially unsafe call to setHTML(String)
    messageWidget.setHTML(currentMessage);
  }
}
</code></pre><p>While both implementations provide a safe external interface, the second implementation is not as obviously free from XSS vulnerabilities as the first: It involves a call to <code>setHTML(String)</code> that is not inherently safe. The value passed to <code>setHTML(String)</code> is obtained from a field. To determine if this widget is free from XSS vulnerabilities, a code reviewer would have to inspect every assignment to the field and verify that it can only be assigned safe HTML. In a trivial example as the above this is quite straightforward, but in more complex, real-world code this a potentially time consuming and error prone process. </p><h2>Caveats and Limitations<a id="Caveats_and_Limitations"></a></h2><p>Comprehensive and consistent use of <code>SafeHtml</code> during development of a GWT application can substantially reduce the incidence of XSS vulnerabilities in that application. However, it does not guarantee the absence of XSS vulnerabilities.</p><p>XSS vulnerabilities may be present in such an application for a number of reasons, including the following:</p>
<ul>
  <li>There may be a bug in code that creates <code>SafeHtml</code> values that  causes it to sometimes produce values that violate the type contract. If such  a value is used as HTML (for instance, assigned to a DOM element&rsquo;s  <code>innerHTML</code> property), an XSS vulnerability may be present.</li>
  <li>Application code may be incorrectly using  <code>SafeHtmlBuilder.appendHtmlConstant</code> or  <code>SafeHtmlUtils.fromSafeConstant</code>. For example, if one of these  methods is passed a value that is not program-controlled as required, but  rather is derived from an external input, an XSS vulnerability may be  present.</li>
  <li>Application code may be incorrectly using  <code>SafeHtmlUtils.fromTrustedString</code>. If this method is used to  <code>SafeHtml</code>-wrap a value that is based on third-party inputs and is  not strictly guaranteed to adhere to the <code>SafeHtml</code> type contract,  an XSS vulnerability may arise.</li>
  <li>Application code may have XSS bugs that are not due the use of external  inputs in HTML contexts, and are beyond the scope of the <code>SafeHtml</code>  library and guidelines.</li>
</ul>

                </div>
            </div>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <script>window.jQuery || document.write("<script src='./../../assets/build/js/vendor/jquery-1.11.0.min.js'><\/script>")</script>

        <script src='./../../assets/build/js/vendor/jquery.flexnav.js'></script>
        <script src='./../../assets/build/js/global.min.js'></script>

    </body>
</html>
